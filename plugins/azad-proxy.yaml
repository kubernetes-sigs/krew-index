apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: azad-proxy
spec:
  platforms:
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-darwin-amd64.zip
    sha256: f6c741abc7f71fd100eff44e4b9f67b30a25decdc98075b49962a323a64dbe23
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: amd64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-darwin-arm64.zip
    sha256: 45bbd422caf8e365acc6452ac4532a7fa027a461a1b5d3aa121915d92174e306
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: arm64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-linux-amd64.zip
    sha256: 5aba85d30120ca2f541e95eeb35d05fbb546f6ec824ab7645bb0645bd607e8ef
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: amd64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-linux-arm64.zip
    sha256: 804b8aa8d8ee4e35dfdbd8f846728b1ce34c74299878427ae00c1070a7c9b1d5
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: arm64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-linux-arm.zip
    sha256: 8769bcd88ded3b7c848442116da257a9489af730a2d0a767348aa8c4367c4111
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: arm
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.25/kubectl-azad_proxy-windows-amd64.zip
    sha256: c68a952050e7f00f37dfc517c0e389f612a992b7d7ac296636506fa29ac02956
    bin: kubectl-azad_proxy.exe
    files:
    - from: kubectl-azad_proxy.exe
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: windows
        arch: amd64
  version: "v0.0.25"
  homepage: https://github.com/XenitAB/azad-kube-proxy
  caveats: |
    This plugin is used in combination with the azad-kube-proxy:
    - https://github.com/XenitAB/azad-kube-proxy

    There shouldn't be a use case where you can use the plugin without the proxy.
    If you haven't been asked by a cluster admin to install this plugin - it may
    not be the one you need.
  shortDescription: Generate and handle authentication for azad-kube-proxy
  description: |
    Works together with the proxy (Azure AD Kubernetes API Proxy: azad-kube-proxy)
    to make it easier to generate the kubeconfig and handles the authentication.
    The proxy itself enables you to use Azure AD to authenticate to any Kubernetes
    API, decouples you from the Cloud providers FQDNs and solves issues related 
    to Azure AD groups for users with more than 200 of them.
