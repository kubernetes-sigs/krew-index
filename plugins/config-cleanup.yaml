apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: config-cleanup
spec:
  version: "v0.7.0"
  shortDescription: Automatically clean up your kubeconfig
  description: |
    This plugin will attempt to connect to each apiserver specified by a context entry in your kubeconfig.
    If the connection succeeds then the user, cluster, and context entries are maintained in the result.
    Otherwise, the entries are removed.
  homepage: https://github.com/TorchAIKC/kubectl-config-cleanup
  platforms:
  - uri: https://github.com/TorchAIKC/kubectl-config-cleanup/releases/download/v0.7.0/kubectl-config-cleanup_0.7.0_linux_amd64.tar.gz
    sha256: 77ef15985f2c3fe746ae2713c1a31e30944413634e06e2ec13e5b8d3dbdd923b
    bin: kubectl-config_cleanup
    files:
    - from: "./kubectl-config_cleanup"
      to: "."
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: amd64
  - uri: https://github.com/TorchAIKC/kubectl-config-cleanup/releases/download/v0.7.0/kubectl-config-cleanup_0.7.0_linux_arm64.tar.gz
    sha256: 5d281f385eabfbc98b8575d85a10d5f99e8db1e293cebfda07a78d7a570f54b5
    bin: kubectl-config_cleanup
    files:
    - from: "./kubectl-config_cleanup"
      to: "."
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: arm64
  - uri: https://github.com/TorchAIKC/kubectl-config-cleanup/releases/download/v0.7.0/kubectl-config-cleanup_0.7.0_darwin_amd64.tar.gz
    sha256: 25263348a4e6060d6474419b5cd10e8444fcb9c1344cad0623b40a352070447e
    bin: kubectl-config_cleanup
    files:
    - from: "./kubectl-config_cleanup"
      to: "."
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: amd64
  - uri: https://github.com/TorchAIKC/kubectl-config-cleanup/releases/download/v0.7.0/kubectl-config-cleanup_0.7.0_darwin_arm64.tar.gz
    sha256: e7cbcb3a7d7cb2f082a03bba587d08e1113e45b679cad40b6432bb17b19fa800
    bin: kubectl-config_cleanup
    files:
    - from: "./kubectl-config_cleanup"
      to: "."
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: arm64
  - uri: https://github.com/TorchAIKC/kubectl-config-cleanup/releases/download/v0.7.0/kubectl-config-cleanup_0.7.0_windows_amd64.zip
    sha256: 495a84d2dfe5c57b1b30118db52b0f10037acd9470ca7c02d1694c0891a5f0cf
    bin: kubectl-config_cleanup.exe
    files:
    - from: "./kubectl-config_cleanup.exe"
      to: "."
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: windows
        arch: amd64
