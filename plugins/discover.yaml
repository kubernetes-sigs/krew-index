apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: discover
spec:
  version: v0.1.8
  homepage: https://github.com/mateimicu/kdiscover
  shortDescription: "Find/export kubeconfigs for cloud clusters"
  description: |
    Discover all the cluster from a provider (AWS, GCP, Azure, etc)
    and export the kubeconfig credentials.
  platforms:
  # MacOs
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_darwin_arm64.tar.gz
    sha256: 90d2c76c8493c8313a7c56bb5602ef43e2d3055de66f00391a6b99f8d83b3838
    bin: kubectl-discover
    files:
    - from: "kdiscover"
      to: "kubectl-discover"
    - from: "LICENSE"
      to: "."
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_darwin_amd64.tar.gz
    sha256: ac78ba020a58565ec286be3e0390446d3b78bda3adbbe8093a1265938a400413
    bin: kubectl-discover
    files:
    - from: "kdiscover"
      to: "kubectl-discover"
    - from: "LICENSE"
      to: "."
  # Linux
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_linux_amd64.tar.gz
    sha256: bb4906724dc4f82b593e039d7d32c253b45a9c552faed0932d388a3ddeb6ce95
    bin: kubectl-discover
    files:
    - from: "kdiscover"
      to: "kubectl-discover"
    - from: "LICENSE"
      to: "."
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_linux_arm64.tar.gz
    sha256: ae902286abcbda57107ecd6382dcdef24e61ff6ebb9622fc46f52084ed9d9b46
    bin: kubectl-discover
    files:
    - from: "kdiscover"
      to: "kubectl-discover"
    - from: "LICENSE"
      to: "."
  - selector:
      matchLabels:
        os: linux
        arch: 386
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_linux_386.tar.gz
    sha256: 677535de8f51a0373f4592fd428f2e6f8e3e1bf53f00d969c86ad5ba86c2fdbd
    bin: kubectl-discover
    files:
    - from: "kdiscover"
      to: "kubectl-discover"
    - from: "LICENSE"
      to: "."
  # Windows
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_windows_amd64.zip
    sha256: 6957ea2ffd9947c82891151813096b9a40c30f9aac36d07c47a5092465b005d9
    bin: kubectl-discover.exe
    files:
    - from: "kdiscover.exe"
      to: "kubectl-discover.exe"
    - from: "LICENSE"
      to: "."
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_windows_arm64.zip
    sha256: ae9a2b92145dc8e59ee53b25b995b827c3de1f3c85d6340edb64a92ca91d94b4
    bin: kubectl-discover.exe
    files:
    - from: "kdiscover.exe"
      to: "kubectl-discover.exe"
    - from: "LICENSE"
      to: "."
  - selector:
      matchLabels:
        os: windows
        arch: 386
    uri: https://github.com/mateimicu/kdiscover/releases/download/v0.1.8/kdiscover_v0.1.8_windows_386.zip
    sha256: 8b16fdb10a35b70f0b2eb5e30817f2a8cda06cd8fb0079cd739ff399885192e8
    bin: kubectl-discover.exe
    files:
    - from: "kdiscover.exe"
      to: "kubectl-discover.exe"
    - from: "LICENSE"
      to: "."
