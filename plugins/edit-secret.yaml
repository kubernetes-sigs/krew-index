apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: edit-secret
spec:
  version: v0.1.1
  homepage: https://github.com/BardiaYaghmaie/kubectl-edit-secret
  shortDescription: Edit secrets with decoded base64 values
  description: |
    Edit Kubernetes secrets by automatically decoding base64 values before
    opening in your editor, then re-encoding and applying changes on save.
    
    This plugin removes the need to manually decode and encode base64 values
    when working with secrets. It fetches the secret, decodes all data fields,
    opens them in a clean YAML format in your preferred editor, and handles
    the re-encoding transparently.
    
    Supports editing all keys in a secret or a specific key. Works with
    standard kubectl flags including namespace, context, and kubeconfig.
  caveats: |
    This plugin requires an editor to be available. Set $EDITOR or $KUBE_EDITOR,
    or use the --editor flag to specify your preferred editor.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.1/kubectl-edit-secret_linux_amd64.tar.gz
    sha256: 8ea944119a6e0bfacd74b65e551cce3589565cbcfc24c018244531e9e1d62ee2
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.1/kubectl-edit-secret_linux_arm64.tar.gz
    sha256: 437818658cda7a1da4fb38e06d62d425277ca135e36b6708f644c9e2b88ce8f0
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.1/kubectl-edit-secret_darwin_amd64.tar.gz
    sha256: 86e1559b0a5c7d06a0e4f2c234acc447671d09d30ebebba879f3a4dbcc20f292
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.1/kubectl-edit-secret_darwin_arm64.tar.gz
    sha256: 38ad0a693586b2b6cd70f556b0ec57cb628cabb3cb667a9a57b54212b4f65ab6
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.1/kubectl-edit-secret_windows_amd64.zip
    sha256: cbc2321d909289759d95c9161dc2837f5a97ba2523287422951469dd0b4c84eb
    bin: kubectl-edit_secret.exe
