apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: encrypted-kubeconfig
spec:
  version: "v1.0.1"
  # 'homepage' usually links to the GitHub repository of the plugin
  homepage: 
  shortDescription: "Authentication plugin for encrypted KUBECONFIG files."
  description: |
    This plugin allows to authenticate to Kubernetes API by decrypting the accesstoken inside of an encrypted KUBECONFIG.
    This is done using the system keyring.
  platforms:
  - bin: encrypted-kubeconfig
    uri: https://github.com/n4-de/kubectl-encrypted-kubeconfig/releases/download/v1.0.1/encrypted-kubeconfig-linux-amd64.tar.gz
    sha256: fe36f5c700b3241f6343426965cc9d0dbaa5c32275237d8148e34129ee8a2368
    files:
      - from: LICENSE
        to: .
      - from: encrypted-kubeconfig
        to: .
    selector:
      matchLabels:
        os: linux
        arch: amd64
  - bin: encrypted-kubeconfig
    uri: https://github.com/n4-de/kubectl-encrypted-kubeconfig/releases/download/v1.0.1/encrypted-kubeconfig-darwin-arm64.tar.gz
    sha256: 432bec988c75c68cd037aa823d0b2331118d56859dc6e025c0e5a14f5a1be857
    files:
      - from: LICENSE
        to: .
      - from: encrypted-kubeconfig
        to: .
    selector:
      matchLabels:
        os: darwin
        arch: arm64
  - bin: encrypted-kubeconfig.exe
    uri: https://github.com/n4-de/kubectl-encrypted-kubeconfig/releases/download/v1.0.1/encrypted-kubeconfig-windows-amd64.zip
    sha256: 4d184ac5cc6279f50ccfce83ec084a5b55909cc0834a41dcdbb9f42e0b8419da
    files:
      - from: LICENSE
        to: .
      - from: encrypted-kubeconfig.exe
        to: .
    selector:
      matchLabels:
        os: windows
        arch: amd64
