
apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: manifest-clean
spec:
  version: v1.0.0
  shortDescription: Sort and strip noise from Kubernetes manifests
  homepage: https://github.com/amdadulbari/kubectl-manifest-clean
  description: |
    Canonical sorting of keys, removal of noisy fields (status, managedFields,
    runtime metadata), and optional empty map/list pruning. Use for GitOps
    diff noise reduction. Arrays are not reordered.
  caveats: |
    Usage:
      $ kubectl manifest-clean [PATH|-] [flags]

    For additional options:
      $ kubectl manifest-clean --help
  platforms:
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/amdadulbari/kubectl-manifest-clean/releases/download/v1.0.0/kubectl-manifest-clean_v1.0.0_linux_amd64.tar.gz
      sha256: 951cf7692342c92311816535fa58437f2f3de3da641ed0ac5c7fc2da84a66416
      files:
        - from: kubectl-manifest-clean
          to: .
        - from: LICENSE
          to: .
      bin: kubectl-manifest-clean
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/amdadulbari/kubectl-manifest-clean/releases/download/v1.0.0/kubectl-manifest-clean_v1.0.0_linux_arm64.tar.gz
      sha256: 1670d25e2c09cba612a5e74e25d1f65519f6f0b0a9412023805b219d0f99b911
      files:
        - from: kubectl-manifest-clean
          to: .
        - from: LICENSE
          to: .
      bin: kubectl-manifest-clean
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/amdadulbari/kubectl-manifest-clean/releases/download/v1.0.0/kubectl-manifest-clean_v1.0.0_darwin_arm64.tar.gz
      sha256: d31082274e9cbaffb4381b7c4613ae17bc9b51936db8998baa15e293b0646fb6
      files:
        - from: kubectl-manifest-clean
          to: .
        - from: LICENSE
          to: .
      bin: kubectl-manifest-clean
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/amdadulbari/kubectl-manifest-clean/releases/download/v1.0.0/kubectl-manifest-clean_v1.0.0_windows_amd64.zip
      sha256: 4f3a05359c4f1b969a7d740dbba7c6540c50396fc4f59dad98512d7cf476874f
      files:
        - from: kubectl-manifest-clean.exe
          to: .
        - from: LICENSE
          to: .
      bin: kubectl-manifest-clean.exe
