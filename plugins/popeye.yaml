apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: popeye
spec:
  homepage: https://popeyecli.io
  shortDescription: Scans your clusters for potential resource issues
  version: v0.11.3
  description: |
    Popeye is a utility that scans live Kubernetes clusters and reports
    potential issues with deployed resources and configurations.
    It sanitizes your cluster based on what's deployed and not what's
    sitting on disk. By scanning your cluster, it detects misconfigurations
    and ensure best practices are in place thus preventing potential future
    headaches. It aims at reducing the cognitive overload one faces when
    operating a Kubernetes cluster in the wild. Furthermore, if your
    cluster employs a metric-server, it reports potential resources
    over/under allocations and attempts to warn you should your cluster
    run out of capacity.

    Popeye is a readonly tool, it does not alter any of your Kubernetes
    resources in any way!
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Darwin_amd64.tar.gz
      sha256: 50f2987ccb4d3839da0475baac9c3c4e67497487335f2ff2c5ac3901b81d2f04
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Darwin_arm64.tar.gz
      sha256: 0f3e738f3c08c9083d50cb8a741d0336b9c33faa0c036fced8dd50e6574c17e8
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Linux_amd64.tar.gz
      sha256: 6882172daee805e3844d145f76f1425604baf73bbc2755e4cc315a134b055f55
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Linux_arm64.tar.gz
      sha256: b6938744f61d9dc0320e83fb636c710c844de25f30fdec77a15dfb90c63595bb
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: armv7
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Linux_armv7.tar.gz
      sha256: edb68a2dcd2e449ee36d278663ca0c91e9fc51014e23b50d16154b8885068210
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Windows_amd64.tar.gz
      sha256: bb73c79dc5c79476de14eb23d8f5ef9f85d88630793a8a343725a43b0a2326b6
      files:
        - from: popeye.exe
          to: kubectl-popeye.exe
        - from: LICENSE
          to: "."
      bin: kubectl-popeye.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Windows_arm64.tar.gz
      sha256: a39cf51a3f6e0bef1839ef85d360d8f69777a078c98e5c83723b87cad523343c
      files:
        - from: popeye.exe
          to: kubectl-popeye.exe
        - from: LICENSE
          to: "."
      bin: kubectl-popeye.exe
    - selector:
        matchLabels:
          os: windows
          arch: armv7
      uri: https://github.com/derailed/popeye/releases/download/v0.11.3/popeye_Windows_armv7.tar.gz
      sha256: 2b2643df42e530b8b4f54768f91908f5c0bcab9e9068e171ae103d322c21db60
      files:
        - from: popeye.exe
          to: kubectl-popeye.exe
        - from: LICENSE
          to: "."
      bin: kubectl-popeye.exe
