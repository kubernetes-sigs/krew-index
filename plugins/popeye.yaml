apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: popeye
spec:
  homepage: https://popeyecli.io
  shortDescription: Scans your clusters for potential resource issues
  version: v0.20.5
  description: |
    Popeye is a utility that scans live Kubernetes clusters and reports
    potential issues with deployed resources and configurations.
    It sanitizes your cluster based on what's deployed and not what's
    sitting on disk. By scanning your cluster, it detects misconfigurations
    and ensure best practices are in place thus preventing potential future
    headaches. It aims at reducing the cognitive overload one faces when
    operating a Kubernetes cluster in the wild. Furthermore, if your
    cluster employs a metric-server, it reports potential resources
    over/under allocations and attempts to warn you should your cluster
    run out of capacity.

    Popeye is a readonly tool, it does not alter any of your Kubernetes
    resources in any way!
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Darwin_amd64.tar.gz
      sha256: 30076882921607345beb9fd2bfb44bd6ef05de51ef772e333ff6bd97b58609d5
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Darwin_arm64.tar.gz
      sha256: c794a0edae3546827dbec6db18469193f8a70cfcfaf095a44ca329b079960273
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Linux_amd64.tar.gz
      sha256: c2022a4ca7dd0b6062c5c87524bd6274519686f66534b6261be617dba97c5ecd
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Linux_arm64.tar.gz
      sha256: efcf44842f801f8fa08b5be575b09135bce63cf09da07a3213437194f3cadcb3
      files:
        - from: popeye
          to: kubectl-popeye
        - from: LICENSE
          to: "."
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Windows_amd64.tar.gz
      sha256: dd30e8464f49e92d4587f2f2bdc1412990f17c81b901853c0f210328a7b4b3cf
      files:
        - from: popeye.exe
          to: kubectl-popeye.exe
        - from: LICENSE
          to: "."
      bin: kubectl-popeye.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.20.5/popeye_Windows_arm64.tar.gz
      sha256: a5d857d767432c1f9fd1cad4defcdbef10160da8d8632fd5b0635fa5db978fd1
      files:
        - from: popeye.exe
          to: kubectl-popeye.exe
        - from: LICENSE
          to: "."
      bin: kubectl-popeye.exe
