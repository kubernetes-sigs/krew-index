apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: popeye
spec:
  homepage: https://popeyecli.io
  shortDescription: Scans your clusters for potential resource issues
  version: v0.22.0
  description: |
    Popeye is a utility that scans live Kubernetes clusters and reports
    potential issues with deployed resources and configurations.
    It sanitizes your cluster based on what's deployed and not what's
    sitting on disk. By scanning your cluster, it detects misconfigurations
    and ensure best practices are in place thus preventing potential future
    headaches. It aims at reducing the cognitive overload one faces when
    operating a Kubernetes cluster in the wild. Furthermore, if your
    cluster employs a metric-server, it reports potential resources
    over/under allocations and attempts to warn you should your cluster
    run out of capacity.

    Popeye is a readonly tool, it does not alter any of your Kubernetes
    resources in any way!
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_darwin_amd64.tar.gz
      sha256: e5ea16f7c0c405f1ed2e4ca798828a3224fe7e993dbfba389310a29ac0911ca0
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_darwin_arm64.tar.gz
      sha256: 346102a80feba02c1b1b705fa054e5cc491f50c53c308143bc3aad2ba0de42a5
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_linux_amd64.tar.gz
      sha256: e43c6b80039f1e38ace65cb5b17f9180638e5b72f252c4a42df96a45a3308c47
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_linux_arm64.tar.gz
      sha256: ab345c55fb59a3531c103b54b125730c61c2f055b044367c0605216245d08ca4
      bin: kubectl-popeye
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_windows_amd64.tar.gz
      sha256: a7007aa602f5221e9faee7d85699432bc94bdb0d73ad6bc109f4eea9cf99bc25
      bin: kubectl-popeye.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_windows_amd64.tar.gz
      sha256: a7007aa602f5221e9faee7d85699432bc94bdb0d73ad6bc109f4eea9cf99bc25
      bin: kubectl-popeye.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/derailed/popeye/releases/download/v0.22.0/popeye_windows_arm64.tar.gz
      sha256: 2e5e7b6184ab897a23ba045d6a6a1ed0a8b26f873ee40b2ccb9754b992496af6
      bin: kubectl-popeye.exe