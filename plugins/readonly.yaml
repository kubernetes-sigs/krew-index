apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: readonly
spec:
  version: v0.5.1
  homepage: https://github.com/Evaneos/kubectl-readonly
  shortDescription: Guardrail against accidental cluster changes
  description: |
    A kubectl wrapper that prevents accidental modifications. Allowed commands
    are passed through to kubectl in your PATH.

    Designed to guard against human errors and AI assistants overstepping their
    instructions. Also provides basic protection against leaking secret values
    to LLM context. Does NOT protect against deliberate bypass attempts.

    Examples:
    - Allowed: get pods, describe deploy, logs, top nodes
    - Blocked: delete pod, apply -f, exec, scale
    - Secrets: list allowed, but -o yaml/-o json blocked
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_linux_amd64.tar.gz
    sha256: 1c55b1cbf3995cd838ae2d52b06cbff53ef14a06180f4a30b06e97160fb3092b
    bin: kubectl-readonly
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_linux_arm64.tar.gz
    sha256: a3fcb63e055db42bfa29b05e77935a2281ef7c81f3031251e82aca65b8c312a3
    bin: kubectl-readonly
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_darwin_amd64.tar.gz
    sha256: d025fabe49d8db80ca60636b61956f03261d01b5c8710b729d30376ce9862eed
    bin: kubectl-readonly
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_darwin_arm64.tar.gz
    sha256: b486f0f5fd62db845e182a65b36cd74bb471d16e5ab01dd22a2aedbee3974b70
    bin: kubectl-readonly
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_windows_amd64.zip
    sha256: 87fc8e8ac69a94e2e9b4f549b677fda1fb354a7a3c72af79c586cf4c03f819d4
    bin: kubectl-readonly.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/Evaneos/kubectl-readonly/releases/download/v0.5.1/kubectl-readonly_0.5.1_windows_arm64.zip
    sha256: 8eb9e7e0d63ca78a9c0f72b7617f6a7e02f6d0a6cb44bccaa331966b4708bf5e
    bin: kubectl-readonly.exe
