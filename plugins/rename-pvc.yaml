apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: rename-pvc
spec:
  version: "v0.6.0"
  homepage: https://github.com/stackitcloud/rename-pvc
  shortDescription: "Rename a PersistentVolumeClaim (PVC)"
  description: |
    rename-pvc renames an existing PersistentVolumeClaim (PVC) by creating a new PVC
    with the same spec and rebinding the existing PersistentClaim (PV) to the newly created PVC.
    Afterwards the old PVC is automatically deleted.
  caveats: "Be sure to create a backup of your data in the PVC before using rename-pvc!"
  platforms:
  - bin: rename-pvc
    uri: https://github.com/stackitcloud/rename-pvc/releases/download/v0.6.0/rename-pvc-linux-amd64.tar.gz
    sha256: 0a253e0b8d5cd5cefac2c9eedf7cbfdef0dcfd1d9e1bd56895bb615b3ce0007e
    selector:
      matchLabels:
        os: linux
        arch: amd64
  - bin: rename-pvc
    uri: https://github.com/stackitcloud/rename-pvc/releases/download/v0.6.0/rename-pvc-linux-arm64.tar.gz
    sha256: b68d83c02b8c3bb3420c43f6a8aab613b62e15171765186f7f945e277a0e2151
    selector:
      matchLabels:
        os: linux
        arch: arm64
  - bin: rename-pvc
    uri: https://github.com/stackitcloud/rename-pvc/releases/download/v0.6.0/rename-pvc-darwin-amd64.tar.gz
    sha256: 3192ebf793b707b43b4e28b1b407b1a75ad345237e9f2ca51b3878f455c0fa29
    selector:
      matchLabels:
        os: darwin
        arch: amd64
  - bin: rename-pvc
    uri: https://github.com/stackitcloud/rename-pvc/releases/download/v0.6.0/rename-pvc-darwin-arm64.tar.gz
    sha256: 5e3407479ceb3ba6198a58405b9ac38670b2d11abb7a76f3e41b651873b5d5bd
    selector:
      matchLabels:
        os: darwin
        arch: arm64
  - bin: rename-pvc.exe
    uri: https://github.com/stackitcloud/rename-pvc/releases/download/v0.6.0/rename-pvc-windows-amd64.zip
    sha256: 10b4a238b50b2affb3f444ca04d4941fa092c6388d2d3f4b837af69059a3956a
    selector:
      matchLabels:
        os: windows
        arch: amd64
