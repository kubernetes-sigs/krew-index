apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: resource-backup
spec:
  version: v0.2.4
  homepage: https://github.com/zak905/kubectl-resource-backup
  shortDescription: Save Kubernetes resources to disk
  description: |
    Backs up Kubernetes objects (including CRDs) to the local file system. 
    Before saving any resource, some additional processing is done to remove:
    - the status stanza if the object has any.
    - the server generated fields from the object metadata. 
    - any field with a null value.
    The aims is to make the saved objects look like the original creation request.
  caveats: |
    The fields that has a default value are not removed (unlike the neat plugin)  
    because it's not possible to make a distinction between a value set 
    by a creation/update request and a value set by a controller 
    or a mutating admission webhook.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_darwin_amd64.tar.gz
    sha256: 0f8983a569c0853f08b6c1328afedc55cad39611bf9e612d845af92970f06b87
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_darwin_arm64.tar.gz
    sha256: d0dda5085572519f1c74ee284045654a53ee94b2cb50fbe11f9380d2a16d6025
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_linux_amd64.tar.gz
    sha256: 52cb6a484242ea1b14c576e3e6a3b33fcd7ba4536718e021ce21789029705905
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_linux_arm64.tar.gz
    sha256: cae02eda782c74d33b53d82cd542c5bac4a97b41bf4f2c05b441246b66f04933
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_windows_amd64.tar.gz
    sha256: 2764ba6ce0f92c418ef62e51fc81edc71887d47d1c818c094f1ba7dd2b7e306b
    bin: kubectl-resource-backup.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.4/kubectl-resource-backup_windows_arm64.tar.gz
    sha256: be554c10137258d87145544729c1291ea28d7a3a1ea9a79f986a8e8005585d3c
    bin: kubectl-resource-backup.exe