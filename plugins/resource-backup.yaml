apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: resource-backup
spec:
  version: v0.2.5
  homepage: https://github.com/zak905/kubectl-resource-backup
  shortDescription: Save Kubernetes resources to disk
  description: |
    Backs up Kubernetes objects (including CRDs) to the local file system. 
    Before saving any resource, some additional processing is done to remove:
    - the status stanza if the object has any.
    - the server generated fields from the object metadata. 
    - any field with a null value.
    The aims is to make the saved objects look like the original creation request.
  caveats: |
    The fields that has a default value are not removed (unlike the neat plugin)  
    because it's not possible to make a distinction between a value set 
    by a creation/update request and a value set by a controller 
    or a mutating admission webhook.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_darwin_amd64.tar.gz
    sha256: 5b9d4e1f8efb5679750c19daf2d3b584880841cbb6c571f84ef46d1a40257a12
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_darwin_arm64.tar.gz
    sha256: 35fb599f22044aeafcab9c7d48f2589e92f3a43a35289fcf11c5acfbe7e82567
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_linux_amd64.tar.gz
    sha256: 503f9c98dd9aae97ad3c945ac97fee73f03cf3ccf0d8f91ca950a32aa2c197a5
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_linux_arm64.tar.gz
    sha256: 427242b06af99364e93d683a3ede83d433599272f18842f119086889de355645
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_windows_amd64.tar.gz
    sha256: a0f595619fb92b0db5c48234d6f7fe3b68d408c7838568366d756040fdc2a913
    bin: kubectl-resource-backup.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.5/kubectl-resource-backup_windows_arm64.tar.gz
    sha256: 9c838b7210a1e2cc92a985d30c2a5d688a50467165b8b0a167cb41963bbaf771
    bin: kubectl-resource-backup.exe