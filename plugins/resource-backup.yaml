apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: resource-backup
spec:
  version: v0.1.1
  homepage: https://github.com/zak905/kubectl-resource-backup
  shortDescription: Save Kubernetes resources to disk
  description: |
    Backs up Kubernetes objects (including CRDs) to the local file system. 
    Before saving any resource, some additional processing is done to remove:
    - the status stanza if the object has any.
    - the server generated fields from the object metadata. 
    - any field with a null value.
    The aims is to make the saved objects look like the original creation request.
  caveats: |
    The fields that has a default value are not removed (unlike the neat plugin)  
    because it's not possible to make a distinction between a value set 
    by a creation/update request and a value set by a controller 
    or a mutating admission webhook.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_darwin_amd64.tar.gz
    sha256: fd960b058906a02969d9c0f4b51e54aa75d9473597a0865625aefb97e2128ef3
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_darwin_arm64.tar.gz
    sha: 6ab9f64a9dcb7e6f1b93be22669f34fbf866a991cccc129fcf9c21ac2ced481c
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_linux_amd64.tar.gz
    sha: 83c43fa56d8c23344a534ec7fbdd0ca38ad4134600800e307574e23e7d58a7d4
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_linux_arm64.tar.gz
    sha: 73359d11a150fb79e3cd1344942c1cbd80654d123bd809be0bb6c4070f4c55ff
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_windows_amd64.tar.gz
    sha: c834f4f360885042cd84ea3b093ba3e65a80c2e6772edfdd02df04011e7e2f63
    bin: kubectl-resource-backup.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.1.1/kubectl-resource-backup_windows_arm64.tar.gz
    sha: 12c98f78a295e482a8653da2ba6aff82ab136fe306c07bff4d1674420f07a03a
    bin: kubectl-resource-backup.exe