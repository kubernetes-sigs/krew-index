apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: resource-backup
spec:
  version: v0.2.3
  homepage: https://github.com/zak905/kubectl-resource-backup
  shortDescription: Save Kubernetes resources to disk
  description: |
    Backs up Kubernetes objects (including CRDs) to the local file system. 
    Before saving any resource, some additional processing is done to remove:
    - the status stanza if the object has any.
    - the server generated fields from the object metadata. 
    - any field with a null value.
    The aims is to make the saved objects look like the original creation request.
  caveats: |
    The fields that has a default value are not removed (unlike the neat plugin)  
    because it's not possible to make a distinction between a value set 
    by a creation/update request and a value set by a controller 
    or a mutating admission webhook.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_darwin_amd64.tar.gz
    sha256: b981e5ead194e3cd201174df5437e44713f27b2c60fb7f79eee2b25749fad6e2
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_darwin_arm64.tar.gz
    sha256: 0451ea184aea35d31e5948744dd5065297dc0bf86b195d8bb50e748b2bc43a40
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_linux_amd64.tar.gz
    sha256: 99c722fe652589ef1922329e587aecf442ec57958fd14a10b872401b68efd230
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_linux_arm64.tar.gz
    sha256: 07b73fa88c6629b655549b355c2cd383202a36a93e371ee573f32d9724000d88
    bin: kubectl-resource-backup
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_windows_amd64.tar.gz
    sha256: b4ba4ac75672bff66b3be880750affd3f9375b68b2e7a249831f2469b97a33a9
    bin: kubectl-resource-backup.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/zak905/kubectl-resource-backup/releases/download/v0.2.3/kubectl-resource-backup_windows_arm64.tar.gz
    sha256: 65c15ab2704b5e06363fbc824f186e42a1ffd07903482c0c3583a10adb2cab8f
    bin: kubectl-resource-backup.exe