apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: retina
spec:
  version: v1.0.0-rc5
  homepage: https://github.com/microsoft/retina
  shortDescription: Distributed network captures and telemetry
  description: |
    The Retina CLI plugin enables users to collect distributed network captures in an
    OS and vendor-agnostic way. Capture jobs can be created via the CLI to target specific
    nodes or pods in a time-limited or size limited way. Capture jobs can also filter specific
    network traffic based on the given configurations; more info on the configurations can be 
    found on the official docs. The captures are collected in formats like pcap, etl and 
    text files, and can then be stored at remote storage destinations.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-darwin-amd64-v1.0.0-rc5.tar.gz
    sha256: b1aef86ed5d8d75e1c689dab83593fb44fa3d3c6e04b926425b80229c7ad3011
    bin: kubectl-retina-darwin-amd64
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-darwin-arm64-v1.0.0-rc5.tar.gz
    sha256: 48f7d9d6d5a9c4bd140ed7faecfe3d45b6f259ab030d0509d404c169a03ccf39
    bin: kubectl-retina-darwin-arm64
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-linux-amd64-v1.0.0-rc5.tar.gz
    sha256: 639ea397a1d57831544f35929b7998add5a821c93774cde26811f3c4098c6c9b
    bin: kubectl-retina-linux-amd64
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-linux-arm64-v1.0.0-rc5.tar.gz
    sha256: 8ba79de726cf923894bc8e96f13f4c30e152720941d1a8f187e4a7a69b032c4f
    bin: kubectl-retina-linux-arm64
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-windows-amd64-v1.0.0-rc5.zip
    sha256: 1294f123c2991a22edaebbe0e56efd5de1eaf35f0c6c2fdd727523d2b06b574e
    bin: kubectl-retina-windows-amd64.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc5/kubectl-retina-windows-arm64-v1.0.0-rc5.zip
    sha256: 99a2aa4a75094a4963d8cc1c635f9701ef8c3fd7e15cba85e5af1680e931037c
    bin: kubectl-retina-windows-arm64.exe

