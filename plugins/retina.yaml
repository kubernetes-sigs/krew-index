apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: retina
spec:
  version: v1.0.0-rc1
  homepage: https://github.com/microsoft/retina
  shortDescription: Distributed network captures and telemetry
  description: |
    The Retina CLI plugin enables users to collect distributed network captures in an
    OS and vendor-agnostic way. Capture jobs can be created via the CLI to target specific
    nodes or pods in a time-limited or size limited way. Capture jobs can also filter specific
    network traffic based on the given configurations; more info on the configurations can be 
    found on the official docs. The captures are collected in formats like pcap, etl and 
    text files, and can then be stored at remote storage destinations.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-darwin-amd64-v1.0.0-rc1.tar.gz
    sha256: ae2b63880bd198b5078286a5f6f11f041e2b48b24c2d2dcbeaf356dbbeddef65
    bin: kubectl-retina-darwin-amd64
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-darwin-arm64-v1.0.0-rc1.tar.gz
    sha256: a5bb6db04cc14a74d0d8a2e416ec97f4f532a6d05866f8a5a69d939eb7e393dd
    bin: kubectl-retina-darwin-arm64
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-linux-amd64-v1.0.0-rc1.tar.gz
    sha256: b9d9276e65c0381569026e561d0f020b706eb8451a85a1a4f8819b8a294a2a5d
    bin: kubectl-retina-linux-amd64
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-linux-arm64-v1.0.0-rc1.tar.gz
    sha256: 3bf9fbcab906b6de3b06c635a275417a6eeeb03c5d716ae0af7a418992c0ff0e
    bin: kubectl-retina-linux-arm64
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-windows-amd64-v1.0.0-rc1.zip
    sha256: e574ed65a91e60428e98d718ed0975e20ac80e05cc7b784524a9d9cf34b69ea9
    bin: kubectl-retina-windows-amd64.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc1/kubectl-retina-windows-arm64-v1.0.0-rc1.zip
    sha256: 9eb5797bb316f758df9e7dae728c7c6636fdacacb9db710a746fecca14f1485f
    bin: kubectl-retina-windows-arm64.exe

