apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: retina
spec:
  version: v1.0.0-rc2
  homepage: https://github.com/microsoft/retina
  shortDescription: Distributed network captures and telemetry
  description: |
    The Retina CLI plugin enables users to collect distributed network captures in an
    OS and vendor-agnostic way. Capture jobs can be created via the CLI to target specific
    nodes or pods in a time-limited or size limited way. Capture jobs can also filter specific
    network traffic based on the given configurations; more info on the configurations can be 
    found on the official docs. The captures are collected in formats like pcap, etl and 
    text files, and can then be stored at remote storage destinations.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-darwin-amd64-v1.0.0-rc2.tar.gz
    sha256: b958e13235537072f090fbcde8d1adc5f0eb529b26151d4080d687d080a60a62
    bin: kubectl-retina-darwin-amd64
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-darwin-arm64-v1.0.0-rc2.tar.gz
    sha256: f6548edbc6144a7e73382d7d8e8bd3c6823848bd0f13bcadce55ac0061d0270a
    bin: kubectl-retina-darwin-arm64
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-linux-amd64-v1.0.0-rc2.tar.gz
    sha256: c09ff2900e9bc8bf504fc0dce345f7271006f6759932c0a4835f7819ca510bec
    bin: kubectl-retina-linux-amd64
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-linux-arm64-v1.0.0-rc2.tar.gz
    sha256: c47bf071a6299f199ccc30aabba6f2273bb41c2a8b1e3c723c957def74b90684
    bin: kubectl-retina-linux-arm64
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-windows-amd64-v1.0.0-rc2.zip
    sha256: 3d82f4c0c7ec2ce14961c84943126491aafeaff6e02c42508b4fcf0ef2c2bcc7
    bin: kubectl-retina-windows-amd64.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/microsoft/retina/releases/download/v1.0.0-rc2/kubectl-retina-windows-arm64-v1.0.0-rc2.zip
    sha256: 3423e38712b2f68e5d5a2d7c273c56837eebf7bd37fbecdc546970fb2e522aeb
    bin: kubectl-retina-windows-arm64.exe

