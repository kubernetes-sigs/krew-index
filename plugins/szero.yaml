apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: szero
spec:
  version: v1.14.0
  homepage: https://github.com/jadolg/szero
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_linux_amd64.tar.gz
    sha256: e7b44aedd2818221fc03379aa0851bff3390ca48b585ec81641e791b9ba947e0
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_linux_386.tar.gz
    sha256: ec983adf7349a6d025f7457bba8c5c83fdd1b104ccb21adaf362035635cef221
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "arm64"
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_linux_arm64.tar.gz
    sha256: 3e175710740c1fcc284923eb7f600bcc249da0cf16888d2aa9582c34cb48bbd8
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_darwin_amd64.tar.gz
    sha256: 23bb052a42d603bc6e09bec226ea242327d9cda3f39036616c56532430847a8d
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_darwin_arm64.tar.gz
    sha256: 93ddd35ee91af4c577e93284aa12c76269976f19ac1699c7be19244e609e45cc
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_windows_amd64.zip
    sha256: 8ac1dd081a635696782c00d36c8228a2df387c2ea2fa26b508416132edc55add
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_windows_386.zip
    sha256: 795e8792c06ec675e6c95fb6e452ac9c0db57daf59dc58b0cdf702819a2daeb1
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.14.0/szero_windows_arm64.zip
    sha256: adda5c1640ad3f3ca27398e4ab0c58c68c5620240bf398a4bc10399152009a22
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  shortDescription: Scale all workloads in a namespace to 0 and back
  description: |
    Downscale all deployments, statefulsets, and daemonsets in a namespace to 0 replicas and back to their previous state.
    Useful when you need to tear everything down and bring it back in a namespace.
