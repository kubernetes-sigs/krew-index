apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: szero
spec:
  version: v1.12.6
  homepage: https://github.com/jadolg/szero
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_linux_amd64.tar.gz
    sha256: 27cf91dc7f82e814d0416b9a8feb1e234cdefb48a4a4a49f81f7f6011d5a9db7
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_linux_386.tar.gz
    sha256: 43582ce82e3d6ea1fa230737e29ec9198614a5d7f6f8d0ba797dd0de1ca7422c
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "arm64"
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_linux_arm64.tar.gz
    sha256: 1c12a44cf47763cc6e15521e325e5d33790c780a03598a4eed2f7a108b63c72a
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_darwin_amd64.tar.gz
    sha256: a2374c56846fe1cd2c19464baf64fa69aa08f087ad2f4a572e8b8824cffdae3f
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_darwin_arm64.tar.gz
    sha256: 4214a96683dc5240dbab1f914642457a5203b6bc545ba59e30f8b0f71af947bb
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_windows_amd64.zip
    sha256: 60e7dfd704e66b9a0b6f0182dd2162316cd6c4a9d3097780805aff6544724437
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_windows_386.zip
    sha256: e159235129d0ebf0e4d3b57350ad718fb11b729efb2cf3869902b73f6f7f21b2
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.12.6/szero_windows_arm64.zip
    sha256: 1a6e902a564c76806a8ad5c0efa133bf06ad8f865cdb8c14aff76d77142f5b4d
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  shortDescription: Scale all workloads in a namespace to 0 and back
  description: |
    Downscale all deployments, statefulsets, and daemonsets in a namespace to 0 replicas and back to their previous state.
    Useful when you need to tear everything down and bring it back in a namespace.
