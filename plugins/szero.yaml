apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: szero
spec:
  version: v1.13.0
  homepage: https://github.com/jadolg/szero
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_linux_amd64.tar.gz
    sha256: b6ab7199267cc02b9b3c87a6197e1cdc10316f42297791dc45f41130708049f4
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_linux_386.tar.gz
    sha256: 5cf32a6b0e86ad9994cac1c6a6532a667537b8d264315cd36ce4819a09affd23
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: linux
        arch: "arm64"
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_linux_arm64.tar.gz
    sha256: f2abfd9eb17e1b96f8ebcee7bf49918d4a3abef2f977740bbf11e00801cb848b
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_darwin_amd64.tar.gz
    sha256: 2e8985addb5fb415283e889c63ac051a544094dcd1837436682c5e9b058afe4f
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_darwin_arm64.tar.gz
    sha256: f13d515e93ae3ee612fb014cdb5d0a5560a4c0dd050a09e6aed95a386f9475f2
    files:
    - from: "./szero"
      to: "kubectl-szero"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero"

  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_windows_amd64.zip
    sha256: 2606b05a88eb133a1ac53e51af020c86e84212796dd0a7f34b6e484a25aa4f60
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: "386"
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_windows_386.zip
    sha256: c2dbdb65f2778e362f1ea75fd38a56beefaef54ded1bc6c75eab1bbeed34a24c
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/jadolg/szero/releases/download/v1.13.0/szero_windows_arm64.zip
    sha256: 65b8b7f8a09595c09967a0f7eea3d5217993829ea9ed20af2bb82b512ac98f87
    files:
    - from: "./szero.exe"
      to: "kubectl-szero.exe"
    - from: LICENSE
      to: "."
    bin: "kubectl-szero.exe"

  shortDescription: Scale all workloads in a namespace to 0 and back
  description: |
    Downscale all deployments, statefulsets, and daemonsets in a namespace to 0 replicas and back to their previous state.
    Useful when you need to tear everything down and bring it back in a namespace.
